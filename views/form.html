<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blood Donors Info | Sign Up</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body class="bg-dark">
    <form action="/submit" method="POST" onsubmit="return validateForm()">
        <div class="container-fluid bg-black w-50 h-50 text-primary p-5 d-grid" style="margin-top: 20vh; border-radius: 10px;">
            <h1>Add Blood Donor</h1>
            <label for="Name">Name</label><input type="text" name="name" id="name">
            <label for="Name">Age</label><input type="number" name="age" id="age">
            <label for="Name">Phone Number</label><input type="number" name="phonenumber" id="phonenumber">
            <label for="Name">Blood Group</label><input type="text" name="bloodgroup" id="bloodgroup">
            <div class="d-flex justify-content-between my-3">
                <button class="btn btn-primary" type="submit">Submit</button>
                <a href="/" type="button"><button class="btn btn-primary">Home</button></a>
            </div>      
        </div>
    </form>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
    <script>
        function validateForm() {
            // Get form values
            var name = document.getElementById('name').value;
            var age = document.getElementById('age').value;
            var phoneNumber = document.getElementById('phonenumber').value;
            var bloodGroup = document.getElementById('bloodgroup').value;

            // Perform validation for mandatory fields
            if (name.trim() === '') {
                alert('Name is required.');
                return false;
            }

            if (age.trim() === '' || isNaN(age) || age < 18) {
                alert('Age should be a number and greater than 18.');
                return false;
            }

            if (phoneNumber.trim() === '' || isNaN(phoneNumber) || phoneNumber.length !== 10) {
                alert('Phone number should be a 10-digit number.');
                return false;
            }

            if (bloodGroup.trim() === '') {
                alert('Blood group is required.');
                return false;
            }

            // Additional validation for name
            if (!/^[a-zA-Z\s]+$/.test(name) || name.trim().length < 3) {
                alert('Name should contain only alphabets and be greater than 3 characters.');
                return false;
            }

            // Assuming blood group should match the pattern A+, A-, B+, B-, O+, O-, AB+, AB-
            var bloodGroupPattern = /^(A|B|AB|O)[+-]$/;
            if (!bloodGroupPattern.test(bloodGroup)) {
                alert('Invalid blood group format. Please use A+, A-, B+, B-, O+, O-, AB+, AB-');
                return false;
            }

            // If all validations pass, return true to allow form submission
            return true;
        }
    </script>    
</body>
</html>
